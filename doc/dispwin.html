<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>dispwin</title>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <meta name="author" content="Graeme Gill">
</head>
<body>
<h2><b>spectro/dispwin</b></h2>
<h3>Summary</h3>
This utility has a couple of different functions. When given as a file
argument an ICC profile containing vcgt "gamma" curves, or an Argyll
video calibration .cal file, it will load that calibration into the
chosen display. By default it displays a test window the same as that
used by dispcal and dispread, to test this functionality. It can also
be used to test the ability to load video card LUT curves to each
display, and to test how the console Bell will sound when used with
some instruments (ie. Eye-One Pro).<br>
<h3>Usage</h3>
<font size="-1"><span style="font-family: monospace;">dispwin [options]
[<span style="font-style: italic;">calfile</span>]</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#v">-v</a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; Verbose mode<br>
</span></font><font size="-1"><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#display">-display displayname</a><span
 style="font-family: monospace;"> [X11 only] Choose X11 display name<br>
</span></font><font size="-1"><span style="font-family: monospace;">&nbsp;<a
 href="#dnm">-d n[,m]</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [X11
only]Choose the display from the following list (default 1),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
and optionally choose a different display m for Video LUT access.<br>
</span></font><font size="-1"><span style="font-family: monospace;">&nbsp;<a
 href="#d">-d
n</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[Not X11] Choose the display from the following list (default 1)<br
 style="font-family: monospace;">
</span></font><font size="-1"><span style="font-family: monospace;"></span><span
 style="font-family: monospace;">&nbsp;<a href="#p">-p ho,vo,ss</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Position test window and scale it</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ho,vi: 0.0 = left/top, 0.5 = center, 1.0 = right/bottom etc.</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
ss: 0.5 = half, 1.0 = normal, 2.0 = double etc.</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#i">-i</a><span
 style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; Run forever with random values<br>
&nbsp;</span></font><font size="-1"><a style="font-family: monospace;"
 href="#m">-m</a><span style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp; Manually step through colors</span></font><br>
<font size="-1"><span style="font-family: monospace;">&nbsp;<a href="#r">-r</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Test just video LUT loading<br>
</span></font><font size="-1"><span style="font-family: monospace;">&nbsp;<a
 href="#n">-n</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Test native display values (rather than through Video LUT)</span></font><br>
<font size="-1"><span style="font-family: monospace;">&nbsp;<a
 href="dispwin.html#c">-c</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Load a linear display calibration (clear calibration)<br>
</span></font><font size="-1"><span style="font-family: monospace;">&nbsp;<a
 href="dispwin.html#x">-x</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Don't exit after loading a calibration.</span></font><font size="-1"><span
 style="font-family: monospace;"></span><span
 style="font-family: monospace;"><br>
&nbsp;</span></font><a style="font-family: monospace;" href="#p1"><font
 size="-1"><span style="font-family: monospace;"></span></font></a><font
 size="-1"><a style="font-family: monospace;" href="#p1"><i>calfile</i></a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Load display calibration (<a href="cal_format.html">.cal</a> or .icm)
into LUT, and exit.</span><span style="font-family: monospace;"></span><span
 style="font-family: monospace;"></span></font><br>
<br>
<h3>Comments<br>
</h3>
<a name="v"></a> The <b>-v</b> flag makes the program more verbose..<br>
<br>
<a name="display"></a>When running on a UNIX based system that used the
X11
Windowing
System, <b>dispwin</b> will by default use the $DISPLAY environment
variable to determine which display and screen to read from. This can
be overridden by supplying an X11 display name to the <span
 style="font-weight: bold;">-display</span> option. Note that if
Xinerama is active, you can't select the screen using $DISPLAY or
-display, you have to select it using the <span
 style="font-weight: bold;">-d</span> parameter.<br>
<br>
<a name="d"></a> By default the location of
the test window will be the main display. If the system has more than
one display or screen, an alternate display/screen can be selected with
the <span style="font-weight: bold;">-d</span> parameter. If you
invoke <span style="font-weight: bold;">dispwin</span>
so as to display the usage
information (i.e. "dispcal -?" or "dispcal --"), then the discovered
displays/screens will be listed. Multiple displays may not be listed
if they appear as a single display to the operating system (ie. the
multi-display support is hidden in the video card driver). On UNIX
based system that used the X11
Windowing
System, the <span style="font-weight: bold;">-d</span> parameter will
override the screen specified by the $DISPLAY or <span
 style="font-weight: bold;">-display</span> parameter.<br>
<br>
<span style="font-weight: bold;">Note</span> that if <span
 style="font-weight: bold;"></span> the VideoLUTs for a display are not
accessible, <span style="font-weight: bold;">dispwin</span>
will fail when it attempts to access them. This could be because you
are trying to access
a remote display, and the remote display doesn't support the
XF86VidMode extension, or perhaps you are running multiple monitors
using NVidia TwinView, or MergedFB, and trying to access anything other
than the primary monitor. TwinView and MergedFB don't properly support
the XF86VidMode extension for multiple displays. Xinerama does properly
support calibration of multiple displays. See also below, on how to
select a different display for VideoLUT access. Also note that dispwin
will fail if the Visual depth doesn't match the
VideoLUT depth. Typically the VideoLUTs have 256 entries per color
component, so the Visual generally needs to be 24 bits, 8 bits per
color component.<br>
<br>
<a name="dnm"></a>Because of the difficulty cause by TwinView and
MergedFB in X11 based systems, you can optionally specify a separate
display number after the display that is going to be used to present
test patches, for accessing the VideoLUT hardware. This must be
specified as a single string, e.g. <span style="font-weight: bold;">-d
1,2</span> . Some experimentation may be needed on such systems, to
discover what screen has access to the VideoLUT hardware, and which
screens the test patches appear on. You may be able to calibrate one
screen, and then share the calibration with another screen. Profiling
can be done independently to calibration.<br>
<br>
<a name="p"></a> The <span style="font-weight: bold;">-p</span>
parameter allows you to position and size the test patch window. By
default it is places in the center of the screen, and sized
appropriately for the type of instrument. The <span
 style="font-weight: bold;">ho</span> and <span
 style="font-weight: bold;">vo</span> values govern the horizontal and
vertical offset respectively. A value of 0.0 positions the window to
the far left or top of the screen, a value of 0.5 positions it in the
center of the screen (the default), and 1.0 positions it to the far
right or bottom of the screen. The <span style="font-weight: bold;">ss</span>
parameter is a scale factor for the test window size. A value of 0.5
for instance, would produce a half sized window. A value of 2.0 will
produce a double size window. Note that the ho,vo,ss numbers must be
specified as a single string (no space between the numbers and the
comma).<br>
For example, to create a double sized test window at the top right of
the screen, use <span style="font-weight: bold;">-p 1,0,2</span> .<br>
<br>
By default <span style="font-weight: bold;">dispwin</span> will put a
test window on the selected display, and display some test colors,
before darkening&nbsp; then brightening the screen by loading video LUT
values, test the bell sounds, then restore the original values and exit.<br>
<br>
If the&nbsp;<a name="i"></a><span style="font-weight: bold;">-i</span>
flag is set, then <span style="font-weight: bold;">dispwin</span> will
display the preset sequence, then random test colors forever.<br>
<br>
If the&nbsp;<a name="m"></a><span style="font-weight: bold;">-m</span>
flag is set, then <span style="font-weight: bold;">dispwin</span> will
display the preset sequence then exits, but
advances manually after each return key.<br>
<br>
If the&nbsp;<a name="r"></a><span style="font-weight: bold;">-r</span>
flag is set, then <span style="font-weight: bold;">dispwin</span> will
test just the loading of video LUT values by first darkening, then
lightening the screen, before exiting.<br>
<br>
If the&nbsp;<a name="n"></a><span style="font-weight: bold;">-n</span>
flag is set, then <span style="font-weight: bold;">dispwin</span> will
display the colors directly on the display, rather than having the
color values translated through the currently loaded Video LUTs.<br>
<br>
<a name="c"></a> If a <span style="font-weight: bold;">-c</span> flag
is used, then rather than displaying a test window, <span
 style="font-weight: bold;">dispwin</span> will load the selected
display with a linear set of Video LUT curves, effectively clearing
the calibration, and will then exit. Any <span
 style="font-style: italic;">calfile</span>
will be ignored.<br>
<br>
<a name="x"></a> If a <span style="font-weight: bold;">-x</span> flag
is used, then after clearing (-c flag) or loading a calibration from a
.cal or ICC profile, dispwin will continue running forever, rather than
exiting. This is useful on Apple OS X, which reverts the video LUT
contents when an application like dispwin exits. The only way on OS X
to permanently load a calibration is to incorporate it in an ICC
profile, and make it the profile for the display in <span
 style="font-style: italic;">System-Preferences-&gt;Displays</span>.<br>
<br>
<a name="p1"></a> The final optional parameter on the command line is
the name of an ICC profile that contains a Video LUT <span
 style="font-weight: bold;">vcgt</span> tag, or an Argyll <a
 href="cal_format.html">.cal</a>
format display calibration. If this parameter is provided, then the
selected display will be loaded with the given calibration. This is
useful in initializing a system to the current calibration on system
startup. Note that the vcgt tag interpretation within Argyll is
consistent with that of the originators of the tag. Other ICC profile
vcgt implementations may not be so consistent.<br>
<br>
<br>
<br>
<br>
</body>
</html>
