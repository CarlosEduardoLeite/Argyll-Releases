<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>chartread</title>
  <meta http-equiv="content-type"
 content="text/html; charset=ISO-8859-1">
  <meta name="author" content="Graeme Gill">
</head>
<body>
<h2><b>spectro/chartread</b></h2>
<h3>Summary</h3>
Read a printer test chart using an instrument, to create a&nbsp;<a
 href="File_Formats.html#.ti3">.ti3</a> data file. The type of
instrument is determined by the communication port
selected.<br>
<br>
<span style="font-weight: bold;">chartread</span> can also be used to
read transmission values, and to read display values manually.<br>
<h3>Usage</h3>
<small><span style="font-family: monospace;">chartread [-options]
outfile</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#v">-v</a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; Verbose mode</span><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#c">-c listno</a><span
 style="font-family: monospace;"> &nbsp; &nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;
Set communication port from the following list (default 1)</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#t">-t</a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; Use transmission measurement mode<br>
</span></small><small><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#d">-d</a><span
 style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Use display measurement mode (white Y relative results)</span></small><small><span
 style="font-family: monospace;"></span></small><small><span
 style="font-family: monospace;"><br>
</span></small><font size="-1"><span style="font-family: monospace;">&nbsp;<a
 href="#y">-y
c|l</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Display type, c = CRT, l = LCD</span></font><br>
<small><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#e">-e</a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Use emissive&nbsp; measurement mode (absolute results)<br>
</span></small><small><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#p">-p</a><span
 style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Measure patch by patch rather than strip</span></small><br>
<small><span style="font-family: monospace;"></span>&nbsp; <a
 style="font-family: monospace;" href="#x">-x [lx]</a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Take external values, either L*a*b* (-xl) or XYZ (-xx).</span><br
 style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#n">-n</a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; Don't save spectral information (default saves
spectral)<br>
</span></small><small><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#l">-l</a><span
 style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp; &nbsp; Save CIE as D50 L*a*b* rather than XYZ<br>
&nbsp;<a href="#r">-r</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Resume reading partly read chart<br>
&nbsp;<a href="#I">-I</a>
file.cal&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Override calibration
info from .ti2 in resulting .ti3</span></small><small><span
 style="font-family: monospace;"></span><span
 style="font-family: monospace;"></span></small><br>
<font size="-1"><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#N">-N</a><span
 style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; Disable auto calibration of instrument<br>
</span></font><font size="-1"><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#B">-B</a><span
 style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; Disable auto bi-directional strip recognition</span></font><br>
<font size="-1"><span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#H">-H</a><span
 style="font-family: monospace;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp; Use high resolution spectrum mode (if available)<br>
&nbsp;<a href="#T">-T ratio</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Modify strip patch consistency tollerance by ratio (if available)<br>
</span></font><font size="-1"><span style="font-family: monospace;">&nbsp;<a
 href="#W">-W n|h|x</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
Ovride serial port flow control: n = none, h = HW, x = Xon/Xoff</span></font><br
 style="font-family: monospace;">
<small><span style="font-family: monospace;"></span><small
 style="font-family: monospace;">&nbsp;<a href="#D">-D [level]</a>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Print debug diagnostics to
stderr</small><br style="font-family: monospace;">
<span style="font-family: monospace;">&nbsp;</span><a
 style="font-family: monospace;" href="#p1"><i>inoutfile</i></a><span
 style="font-family: monospace;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
&nbsp;Base
name for input[</span><a style="font-family: monospace;"
 href="File_Formats.html#.ti2">.ti2</a><span
 style="font-family: monospace;">]/output[</span><a
 style="font-family: monospace;" href="File_Formats.html#.ti3">.ti3</a><span
 style="font-family: monospace;">] file</span></small>
<br>
<h3>Usage Details</h3>
<a name="v"></a>The <b>-v</b> flag causes extra information to be
printed out during chartread
operation.<br>
<br>
<a name="c"></a>Normally instruments are connected via a serial
communication port, and the
port used should be selected by supplying the correct parameter to the <b>-c</b>
flag. If you invoke <span style="font-weight: bold;">chartread</span>
so as to display the usage
information (i.e. "chartread -?" or "chartread --"), then the
discovered
serial ports will be listed on Windows and Mac OSX systems.<br>
<br>
<a name="t"></a>If using an Xrite DTP41T, and printing onto transparent
or back lit media,
use the <b>-t</b> flag to operate the instrument in transparency mode.
If using a Spectrolino or Eye-One Pro (handheld), this triggers a fake
transparency
mode, that uses a separate backlight (such as a light box). The&nbsp;
instrument will be used to calibrate the level of backlight, and use
this to compute the transparency of the test chart samples. Note that
for good transparency values, the backlight level needs to be neither
too bright not too dark, should ideally be incandescent rather than
fluorescent (since fluorescent lights often have big dips in their
spectrum), and ideally should be of uniform brightness over the
measurement area. If using the SpectroScanT, the <span
 style="font-weight: bold;">-t</span> flag operates the instrument in
transparency mode, each reading being manually triggered.<br>
<br>
<a name="d"></a>The <span style="font-weight: bold;">-d</span> flag
allows measuring
in display mode using
instruments that
support this mode, with the brightness normalized to the white patch
value
in the test chart. While the brightness values are then
relative to the white, the readings are otherwise absolute. This
corresponds to the raw ICC absolute readings created by <a
 href="dispread.html">dispread</a>, and is the mode that should be used
for creating a normal display ICC profile using manual, spot by spot
readings. This can be useful if the display cannot be driven directly
by the computer, but can be made manually to display the test charts.<br>
<br>
<a name="y"></a>&nbsp; Display type. Some colorimeters (like the DTP94
and Eye-One Display)
require that the the type of display technology used be specified. Use <span
 style="font-weight: bold;">-yc</span> if you are
calibrating a CRT (Cathode Ray Tube) type monitor, and use <span
 style="font-weight: bold;">-il</span> if you are calibrating an LCD
(Liquid Crystal Display).<br>
<br>
<a name="e"></a> If using an instrument that supports an emissive
measurement mode (such as the Spectrolino), then the <span
 style="font-weight: bold;">-e</span> flag enables this measurement
mode, and the values recorded will be absolute XYZ values. This can be
used for media such as backlit film, measuring it on a lightbox, so as
to capture the actual illumination characteristics of that particular
media.<br>
<br>
<a name="p"></a> The <span style="font-weight: bold;">-p</span> flag
causes chartread to use a spot read mode for an instrument, even if it
is capable of faster chart reading modes such as strip reading. This
can be useful if strip measurement patch recognition is not reliable
for certain media.<br>
<br>
<a name="x"></a> The <span style="font-weight: bold;">-x</span> flag
causes chartread to expect values to be entered for each reading,
rather than using an instrument to do the measurements.&nbsp; This mode
is ideal if your instrument is not supported by Argyll. Either XYZ or
L*a*b* values can be entered, depending on what option follows <span
 style="font-weight: bold;"><span style="font-weight: bold;">-l</span></span>,
<span style="font-weight: bold;">-lx</span> to specify XYZ values, or <span
 style="font-weight: bold;">-ll</span> to specify L*a*b* values. XYZ
values are expected to be scaled to a maximum of 100. It is possible to
navigate about the test values being measured, so as to do them in any
order, as well as re-do values, in case of any mistakes.<br>
<br>
<a name="n"></a> <span style="font-weight: bold;">-n</span> By default
spectral information as well as D50
standard observer XYZ values
will be recorded for each test patch, when such readings are available
from a device. The spectral readings allow for
choosing
a non-standard viewing illuminant, a non-standard observer model, or
the use of the Fluorescent Paper Whitener Additive
compensation
when creating the profile. If the spectral readings are not needed,
then
prinread operation can be speeded up by specifying the <b>-n</b> flag.<br>
<br>
<a name="l"></a> <span style="font-weight: bold;">-l</span> By default
D50
standard observer XYZ values
will be recorded for each test patch, but if the <span
 style="font-weight: bold;"><span style="font-weight: bold;">-l</span></span>
flag is used, D50 L*a*b* values will be recorded instead.<br>
<br>
<a name="r"></a> <span style="font-weight: bold;">-r</span> By default
chartread reads the chart from scratch each time. When reading a chart
using a strip instrument or patch by patch you can choose to finish
chartread without reading all the patches, and whatever patches have
been read will be saved to the output .ti3 file. You can then <span
 style="text-decoration: underline;">resume</span> reading the patches
by using the <span style="font-weight: bold;">-r</span> flag, in which
case chartread will read the .ti3 file and set the patches to those
previously read values, allowing any unread patches to then be read, or
to re-read previously read patches.<br>
<br>
<a name="I"></a> <span style="font-weight: bold;">-I</span> <span
 style="font-style: italic;">file.cal</span>&nbsp; Normally per channel
calibration curves are added to the .ti2 file using the <span
 style="font-weight: bold;">printtarg -K</span> or <span
 style="font-weight: bold;">-I</span> options, so that they will be
passed on to the .ti3 file by&nbsp; <span style="font-weight: bold;">chartread</span>,
so that <span style="font-weight: bold;">colprof</span> is able to
correctly compute total ink limits. Where the calibration is being
applied in a workflow with native calibration capability<small><span
 style="font-family: monospace;"></span></small> though, it is
sometimes convenient to re-use a profile chart with different
calibration curves without going through the process of using <span
 style="font-weight: bold;">printtarg</span> to re-create it. This
would mean though, that the calibration information and subsequent ink
limit calculations wouldn't be accurate. To overcome this and allow
such a scenario, the <span style="font-weight: bold;">chartread -I</span>
parameter allows overriding the .ti2 calibration curves placed in the
resulting .ti3 file with the actual calibration that was used for that
particular print.<br>
<br>
<a name="N"></a> <span style="font-weight: bold;">-N</span> Many
instruments automatically ask for an instrument
calibration before each set of readings. Sometimes this can be awkward
if the instrument is being mounted in some sort of measuring jig, or
annoying if several sets of readings are being taken in quick
succession. The -<span style="font-weight: bold;">N</span> suppresses
this automatic calibration (if possible), causing the previous
calibration recorded in the instrument or on the host computer. It is
advisable to only use this option on the second and subsequent
measurements in a single session.<br>
<br>
<a name="B"></a> <span style="font-weight: bold;">-B</span> Some strip
instruments (i.e.. Eye-One Pro, Color Munki) when used
with Argyll will automatically recognize a strip when read in the
reverse direction by matching the patch readings against their
expected values. If the randomized patch layout has not been used, or
the expected values are not known accurately
enough, this may cause erroneous reverse recognition, so the <span
 style="font-weight: bold;">-<span style="font-weight: bold;">B</span></span>
flag allows this to be turned off, forcing strips to only be read in
the forward direction.<br>
<br>
<a name="H"></a> The -<span style="font-weight: bold;">H</span> option
turns on high resolution spectral mode, if the instrument supports it.
See <a href="instruments.html">Operation of particular instruments</a>
for more details.<br>
<br>
<a name="T"></a> The -<span style="font-weight: bold;">T ratio</span>
argument modifies the patch consistency tolerance threshold for some
strip reading instruments (ie. the Eye-One Pro). In recognizing patches
in a strip, an instrument may take multiple readings as the strip is
read, and then divide the readings up into each patch. It may then
check the consistency of the multiple readings corresponding to each
patch, and reject the measurement if they are too inconsistent. For
some media (ie. a coarser screens, fabric etc.) the default tolerance
may be unreasonably tight, so the <span style="font-weight: bold;">-T
ratio</span> argument can be used to modify this criteria. To loosen
the tolerance, use a number greater than 1.0 (ie. 1.5, 2.0).<br>
<br>
<a name="W"></a>The <b>-W</b> <span style="font-weight: bold;">n|h|x</span>
parameter overrides the default serial communications
flow control setting. The value <span style="font-weight: bold;">n</span>
turns all flow control off, <span style="font-weight: bold;">h</span>
sets hardware handshaking, and <span style="font-weight: bold;">x</span>
sets Xon/Xoff handshaking. This commend may be useful in workaround
serial communications issues with some systems and cables. <br>
<br>
<a name="D"></a>The <b>-D</b> flag causes communications
and other instrument diagnostics to be printed to stdout. A level can
be set between 1 .. 9, that may give progressively more verbose
information, depending on the instrument. This can be useful in
tracking
down why an instrument can't connect.<br>
<br>
<a name="p1"></a> The <i>inoutfile</i> parameters should be the base
name of the .ti2 file,
and chartread will output an .ti3 that has the same basename and the
.ti3
extension. If the incoming .ti2 file contains per-channel calibration
curves, these will be passed through to the .ti3 so that accurate ink
limits can be computed during profiling.<br>
<br>
<hr style="width: 50%; height: 2px;">
<h3>Discussion</h3>
For information about the operation of different instruments, see <a
 href="instruments.html">Operation of particular instruments</a>.<br>
<br>
<br>
</body>
</html>
